<div class="container">
  <h1>Carrito de Compras</h1>
  {{#if cart.products.length}}
  <table class="table">
    <thead>
      <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Precio (por unidad)</th> <!-- Nueva columna para el precio -->
        <th>Eliminar</th>
      </tr>
    </thead>
    <tbody>
      {{#each cart.products}}
      <tr>
        <td>{{this.productId.title}}</td>
        <!-- Muestra el título del producto -->
        <td>{{this.quantity}}</td>
        <!-- Muestra la cantidad -->
        <td>${{this.productId.price}}</td> <!-- Muestra el precio -->
        <td>
          <button onclick="eliminarDelCarrito('{{this.productId._id}}','{{../cart.userId}}')" class="btn btn-danger">Eliminar</button>
        </td>
        <!-- Botón para eliminar el producto -->
      </tr>
      {{/each}}
    </tbody>
  </table>
  <form action="/api/cart/checkout/{{cart.userId}}" method="POST">
    <button type="submit" class="btn btn-success">Comprar</button>
  </form>
  <!-- Botón para vaciar el carrito -->
  <form action="/api/cart/clearcart/{{cart.userId}}" method="POST">
    <button type="submit" class="btn btn-danger">Vaciar Carrito</button>
  </form>
  <!-- Botón para volver atrás -->
  <a href="/">Volver a la página anterior</a>
  {{else}}
  <p>No hay productos en el carrito.</p>
  <!-- Botón para volver atrás -->
  <a href="/">Volver a la página anterior</a>
  {{/if}}
</div>

<script src="/js/cart.js"></script>
